# Exit Code 128 (Linux / Docker)

This document explains **exit code 128**, how Linux handles exit codes from signals, and how this appears in **Docker and Kubernetes**. It is written for **interview preparation and troubleshooting**.

---

## What is Exit Code 128?

**Exit code 128 indicates that a process was terminated by a signal**, not by a normal application exit.

It acts as a **base value** for signal-related exit codes.

---

## How Signal-Based Exit Codes Work

In Linux:

```text
Exit Code = 128 + Signal Number
```

### Common Examples

| Exit Code | Signal                              | Meaning |
| --------- | ----------------------------------- | ------- |
| 128       | Generic signal termination          |         |
| 129       | SIGHUP (1)                          |         |
| 130       | SIGINT (2) – Ctrl + C               |         |
| 137       | SIGKILL (9) – Force kill / OOM      |         |
| 143       | SIGTERM (15) – Graceful termination |         |

---

## Why Exit Code 128 Appears

### 1. Process Terminated by a Signal

* The application did not exit on its own
* It was interrupted by the OS or container runtime

### 2. Shell or Runtime Abstraction

* Sometimes the exact signal is not propagated
* Shell scripts or wrappers exit with `128`

---

## Exit Code 128 in Docker

* Docker usually reports **128 + signal number**
* Plain `128` is less common but possible

### More Common Docker Exit Codes

* `130` → Container stopped via Ctrl+C
* `137` → Container killed (OOM or docker kill)
* `143` → Container stopped gracefully

---

## Exit Code 128 in Kubernetes

* Kubernetes typically reports **signal-specific exit codes**
* Plain `128` is rare
* More common reasons:

  * Pod termination
  * Resource limits
  * Node shutdown

---

## How to Debug Exit Code 128

### Docker

```bash
docker inspect <container> | grep ExitCode
```

### Kubernetes

```bash
kubectl describe pod <pod-name>
```

Look for termination reason and signal.

---

## Interview One-Liner

> Exit code 128 indicates that a process was terminated by a signal, and the actual exit code is usually calculated as 128 plus the signal number.

---

## Quick Memory Tip

* `128` → signal-based termination
* `128 + N` → signal number `N`

---

## Related Exit Codes to Remember

* `137` → OOMKilled / SIGKILL
* `143` → SIGTERM (graceful shutdown)
* `130` → SIGINT (Ctrl+C)

---

## Best Practice

* Always handle **SIGTERM** properly in applications
* Configure graceful shutdown hooks
* Set appropriate memory limits to avoid OOM kills

<img width="1668" height="936" alt="image" src="https://github.com/user-attachments/assets/ba538cdc-0da1-4fd2-9230-2d8cb76208d3" />
